<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>載入中...</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        .font-tech {
            font-family: 'Share Tech Mono', monospace;
        }

        .loading-bar {
            width: 0%;
            transition: width 0.1s linear;
        }

        .fade-out {
            opacity: 0;
            transition: opacity 0.5s ease-out;
        }
    </style>
</head>

<body id="body"
    class="bg-stone-950 h-screen flex flex-col items-center justify-center text-stone-300 transition-opacity duration-500">

    <div class="w-64 space-y-4 text-center">
        <!-- Spinner -->
        <div class="inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500 mb-4"></div>

        <h2 class="text-xl font-bold tracking-widest animate-pulse">全力載入ING!!</h2>

        <!-- Progress Bar Container -->
        <div class="w-full bg-stone-900 rounded-full h-2.5 border border-stone-800 overflow-hidden">
            <div id="progress"
                class="bg-green-600 h-2.5 rounded-full loading-bar shadow-[0_0_10px_rgba(34,197,94,0.5)]"></div>
        </div>

        <p class="text-xs font-tech text-stone-500 mt-2">載入中...</p>
    </div>

    <script>
        // Get destination from URL params (e.g., ?dest=index.html)
        const urlParams = new URLSearchParams(window.location.search);
        const dest = urlParams.get('dest') || 'index.html';

        // Simulate Loadeing
        const progressBar = document.getElementById('progress');
        const body = document.getElementById('body');
        let width = 0;

        // Total time approx 1.5s (1500ms)
        // Update every 15ms -> 100 steps
        // Step size = 1%
        const interval = setInterval(() => {
            if (width >= 100) {
                clearInterval(interval);

                // Trigger Fade Out
                body.classList.add('fade-out');

                // Wait for fade out (500ms) then redirect
                setTimeout(() => {
                    window.location.href = dest;
                }, 500);
            } else {
                width++;
                progressBar.style.width = width + '%';
            }
        }, 15);
    </script>
</body>

</html>